<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="logo.png">
  <title>SamShop</title>
  <link rel="stylesheet" href="loja.css">
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

</head>
<body>
  <header>
    <div class="logo">Sam <span>Shop</span></div>
    <button id="menu-hamburguer" aria-label="Abrir menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <nav id="menu-navegacao">
      <ul>
        <li><a href="#produtos">Servi√ßos</a></li>
        <li><a href="#carrinho">Carrinho</a></li>
        <li><a href="#contato">Contato</a></li>
      </ul>
    </nav>
  </header>
  
  <script>
     // Controle do menu hamb√∫rguer
document.addEventListener("DOMContentLoaded", () => {
  const menuHamburguer = document.getElementById("menu-hamburguer");
  const menuNavegacao = document.getElementById("menu-navegacao");

  menuHamburguer.addEventListener("click", () => {
    menuNavegacao.classList.toggle("active");
  });
});
  </script>

  <section id="hero">
    <div class="hero-content">
      <h1>Bem-vindo √† <span>SamShop</span></h1>
      <p>Encontre os melhores servi√ßos digitais: sites, aplicativos e sistemas personalizados!</p>
      <a href="#produtos"><button class="btn">Explore Agora</button></a>
    </div>
    <div class="hero-image">
      <img src="samshop.gif" alt="Imagem Representativa da Loja">
    </div>
  </section>
  

  <section id="busca">
    <input type="text" id="barra-pesquisa" placeholder="Busque um servi√ßo..." oninput="filtrarServicos()">
  </section>  

  <section id="carrinho">
    <h2>Carrinho de Servi√ßos</h2>
    <ul id="lista-carrinho"></ul>
    <p id="total-carrinho">Total: R$ 0,00</p>
    <button class="btn" onclick="exibirCarrinhoPagamento()">Finalizar Contrata√ß√£o</button>
  </section>

  <div id="modal-pagamento" class="modal">
    <div class="modal-content">
      <span class="close" onclick="fecharModal()">&times;</span>
      <div id="dados-pagamento">
        <!-- O conte√∫do do modal ser√° atualizado dinamicamente pelo JavaScript -->
      </div>
      <button class="imprimir-btn" onclick="imprimirComprovante()">Baixar Comprovante</button>
    </div>
  </div>
  
  
  
  
  <section class="container" id="produtos">
    <div class="produtos-grid">
    <div class="produto-card">
      <a href="loja-virtual.gif" title="Clique na imagem para visualizar" class="image featured"><img src="loja virtual.jpg" alt="projeto1" /></a>
      <h3>Loja Virtual</h3>
      <p>Loja virtual completa para vendas de produtos.</p>
      <p class="preco">R$ 3.000,00</p>
      <button class="comprar-btn" onclick="adicionarAoCarrinho('Loja Virtual', 3000)">Adquirir</button>
    </div>   

    <div class="produto-card">
      <a href="bioestudos.gif" title="Clique na imagem para visualizar" class="image featured"><img src="bioestudos.png" alt="BioEstudos"></a>
      <h3>PLATAFORMA DE ESTUDO DE BIOLOGIA</h3>
      <h3>BioEstudos</h3>
      <p>Plataforma destinada ao estudo de biologia contendo livros, apostilas, ferramentas de estudos entre outras coisas.</p>
      <p class="preco">R$ 150,00</p>
      <button class="comprar-btn" onclick="adicionarAoCarrinho('BioEstudos', 150)">Adquirir</button>
    </div>   

    <div class="produto-card">
      <a href="concurso.gif" title="Clique na imagem para visualizar" class="image featured"><img src="concurso.png" alt="concursos"></a>
      <h3>CONCURSOS</h3>
      <h3>Concursos P√∫blicos</h3>
      <p>Plataforma destinada ao acesso a diversos materiais de concursos, cronogramas, planos de estudos e muito mais.</p>
      <p class="preco">R$ 250,00</p>
      <button class="comprar-btn" onclick="adicionarAoCarrinho('Plataforma de Concursos P√∫blicos', 250)">Adquirir</button>
    </div>   
  </div>
</section>

  <section class="container" id="produtos">
    <div class="produtos-grid">
      <div class="produto-card">
        <a href="anotacoes.gif" title="Clique na imagem para visualizar" class="image featured"><img src="anotacoes.png" alt="Anota√ß√µes"></a>
        <h3>Aplicativo de Anota√ß√µes Personalizado</h3>
        <p>Aplicativo de anota√ß√µes personaliz√°vel com bot√µes salvar, editar, deletar anota√ß√µes e modo claro/escuro.</p>
        <p class="preco">R$ 75,00</p>
        <button class="comprar-btn" onclick="adicionarAoCarrinho('Aplicativo de Anota√ß√µes Personalizado', 75)">Adquirir</button>
      </div>
      
      <div class="produto-card">
        <a href="qrcode2.gif" title="Clique na imagem para visualizar" class="image featured"><img src="qrcode.png" alt="qrcode"></a>
        <h3>Gerador de QR Code Personalizado</h3>
        <p>Aplicativo gerador de QR Code personaliz√°vel.</p>
        <p class="preco">R$ 30,00</p>
        <button class="comprar-btn" onclick="adicionarAoCarrinho('Gerador de QR Code Personalizado', 30)">Adquirir</button>
      </div>
      
      <div class="produto-card">
        <a href="livrosam.gif" title="Clique na imagem para visualizar" class="image featured"><img src="livrosam.png" alt="Plataforma de livros"></a>
        <h3>Plataforma de Livros em PDF</h3>
        <p>Plataforma com variados tipos de livros em formato pdf, com op√ß√£o de download.</p>
        <p class="preco">R$ 25,00</p>
        <button class="comprar-btn" onclick="adicionarAoCarrinho('Plataforma de Livros em PDF', 25)">Adquirir</button>
      </div>      
    </div>
  </section>

  <section class="container" id="produtos">
    <div class="produtos-grid">
    <div class="produto-card">
      <a href="pag-enem.gif" title="Clique na imagem para visualizar" class="image featured"><img src="pagenem.PNG" alt="enem"></a>
      <h3>Enem</h3>
      <p>Plataforma de estudo para o ENEM com apostilas e videoaulas.</p>
      <p class="preco">R$ 270,00</p>
      <button class="comprar-btn" onclick="adicionarAoCarrinho('Plataforma do Enem', 270)">Adquirir</button>
    </div>   

    <div class="produto-card">
      <a href="pag-notas.gif" title="Clique na imagem para visualizar" class="image featured"><img src="pagnotas.png" alt="sistema de notas"></a>
      <h3>Sistema de Notas</h3>
      <p>Sistema para consulta de notas de provas para alunos matriculados em cursos.</p>
      <p class="preco">R$ 150,00</p>
      <button class="comprar-btn" onclick="adicionarAoCarrinho('Sistema de Notas', 150)">Adquirir</button>
    </div>   

    <div class="produto-card">
      <a href="quiz.gif" title="Clique na imagem para visualizar" class="image featured"><img src="quiz.png" alt="quiz"></a>
      <h3>Quiz de Perguntas e Respostas</h3>
      <p>Quiz de perguntas e respostas para testar e avaliar os conhecimentos sobre temas espec√≠ficos.</p>
      <p class="preco">R$ 25,00</p>
      <button class="comprar-btn" onclick="adicionarAoCarrinho('Quiz de Peguntas e Respostas', 25)">Adquirir</button>
    </div>   
  </div>
</section>
  
  <section id="contato">
    <h2>Fale Conosco</h2>
    <p>Tem alguma d√∫vida ou deseja mais informa√ß√µes? Envie uma mensagem para n√≥s!</p>
      <form id="form-contato" action="https://formsubmit.co/samuel.araujonascimento.98@gmail.com" method="post" enctype="multipart/form-data" autocomplete="off">
        <input type="hidden" name="Site" value="SamShop">
      <label for="nome">Seu Nome</label>
      <input type="text" id="nome" name="nome" placeholder="Digite seu nome" required>
  
      <label for="email">Seu Email</label>
      <input type="email" id="email" name="email" placeholder="Digite seu email" required>
  
      <label for="mensagem">Mensagem</label>
      <textarea id="mensagem" name="mensagem" placeholder="Digite sua mensagem" rows="5" required></textarea>
  
      <button type="submit" class="btn" id="enviar">Enviar Mensagem</button>
      <input type="hidden" name="_captcha" value="false">
      <input type="hidden" name="_next" value="#">
      <input type="hidden" name="_template" value="table">
    </form>
    <br>
    <div id="mensagem-status"></div>
  </section>

  <footer id="footer">
    <div class="footer-content">
      <p>&copy; 2024 SamShop.</p>
      <p>Desenvolvido por: Samuel Ara√∫jo.</p>
      <p>Todos os direitos reservados.</p>
    </div>
  </footer>

  <script>
let dadosCompra = null; // Armazena temporariamente os dados da compra

const carrinho = [];
    let total = 0;

    // Adiciona servi√ßos ao carrinho
    function adicionarAoCarrinho(servico, preco) {
      carrinho.push({ servico, preco });
      total += preco;
      atualizarCarrinho();

      // Exibe o aviso
  mostrarAviso(`O servi√ßo "${servico}" foi adicionado ao carrinho!`);
    }

    function mostrarAviso(mensagem) {
  const toast = document.getElementById("toast");
  toast.textContent = mensagem;
  toast.classList.remove("hidden");
  toast.classList.add("visible");

  // Remove o aviso ap√≥s 3 segundos
  setTimeout(() => {
    toast.classList.remove("visible");
    toast.classList.add("hidden");
  }, 3000);
}

    // Atualiza o carrinho
    function atualizarCarrinho() {
      const listaCarrinho = document.getElementById("lista-carrinho");
      listaCarrinho.innerHTML = "";
      carrinho.forEach((item, index) => {
        const li = document.createElement("li");
        li.textContent = `${item.servico} - R$ ${item.preco.toFixed(2)}`;
        const removerBtn = document.createElement("button");
        removerBtn.textContent = "Remover";
        removerBtn.className = "remover-btn"; // Adiciona a classe para aplicar o estilo
        removerBtn.onclick = () => removerDoCarrinho(index);
        li.appendChild(removerBtn);
        listaCarrinho.appendChild(li);
      });
      document.getElementById("total-carrinho").textContent = `Total: R$ ${total.toFixed(2)}`;
    }

    // Remove servi√ßos do carrinho
    function removerDoCarrinho(index) {
      total -= carrinho[index].preco;
      carrinho.splice(index, 1);
      atualizarCarrinho();
    }

    function exibirCarrinhoPagamento() {
  if (carrinho.length === 0) {
    alert("Seu carrinho est√° vazio. Adicione servi√ßos antes de finalizar a contrata√ß√£o.");
    return;
  }

  const modal = document.getElementById("modal-pagamento");
  const dadosPagamento = document.getElementById("dados-pagamento");
  modal.style.display = "flex";

  let resumoCarrinho = "<h4>Servi√ßos Selecionados</h4><ul>";
  let totalModal = 0;

  carrinho.forEach((item, index) => {
    totalModal += item.preco;
    resumoCarrinho += `<li>${index + 1}. ${item.servico} - R$ ${item.preco.toFixed(2)}</li>`;
  });

  resumoCarrinho += `
    </ul>
    <p><strong>Total:</strong> R$ ${totalModal.toFixed(2)}</p>
    <h4>Dados do Cliente</h4>
    <p>
      <label for="nome-cliente">Seu Nome:</label>
      <input type="text" id="nome-cliente" placeholder="Digite seu nome" required>
    </p>
    <p>
      <label for="email-cliente">Seu E-mail:</label>
      <input type="email" id="email-cliente" placeholder="Digite seu e-mail" required>
    </p>
    <h4>Pagamento via PIX</h4>
    <div class="pix-container">
      <p>
        <strong>Chave PIX:</strong> <span id="pix-key">86994200398</span>
        <button class="copy-btn" onclick="copyPixKey()" title="Copiar Chave PIX">üìã</button>
      </p>
      <div class="qrcode">
        <img src="meuqrcode.jpg" alt="QR Code PIX" style="max-width: 200px;"> <!-- Substitua pelo QR Code correto -->
      </div>
    </div>
    <button class="confirmar-btn" onclick="enviarPedido()">Finalizar Compra</button>
    <p id="mensagem-status" style="margin-top: 20px; display: none;"></p>
  `;

  dadosPagamento.innerHTML = resumoCarrinho;
}




function enviarPedido() {
  const nomeCliente = document.getElementById("nome-cliente").value;
  const emailCliente = document.getElementById("email-cliente").value;

  // Valida√ß√£o de nome e e-mail
  if (!nomeCliente.trim()) {
    alert("Por favor, insira seu nome.");
    return;
  }

  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailRegex.test(emailCliente)) {
    alert("Por favor, insira um e-mail v√°lido.");
    return;
  }

  // Gera a lista de servi√ßos adquiridos
  const servicosAdquiridos = carrinho.map(
    (item) => `${item.servico} - R$ ${item.preco.toFixed(2)}`
  );

  const total = carrinho.reduce((acc, item) => acc + item.preco, 0);

  // Armazena os dados da compra
  dadosCompra = {
    nome: nomeCliente,
    email: emailCliente,
    servicos: servicosAdquiridos,
    total: total.toFixed(2)
  };

  // Configura√ß√£o do EmailJS
  const serviceID = "service_tj6dzjb";
  const templateID = "template_ae0mk6j";
  const publicKey = "awQWGguZKkGPe0f23";

  const templateParams = {
    cliente_nome: nomeCliente,
    cliente_email: emailCliente,
    servicos: servicosAdquiridos.join("\n"),
    total: `R$ ${total.toFixed(2)}`
  };

  emailjs.init(publicKey);

  emailjs.send(serviceID, templateID, templateParams)
    .then(() => {
      document.getElementById("mensagem-status").innerHTML = `
        <p>Obrigado por sua compra, ${nomeCliente}!</p>
        <p>Seu pedido foi enviado para nosso sistema e entraremos em contato pelo e-mail: <strong>${emailCliente}</strong>.</p>
      `;
      document.getElementById("mensagem-status").style.display = "block";

      limparCarrinho();
    })
    .catch(() => {
      alert("Erro ao enviar o pedido. Tente novamente.");
    });
}

  

function limparCarrinho() {
  carrinho.length = 0; // Esvazia o carrinho
  document.getElementById("lista-carrinho").innerHTML = ""; // Atualiza a lista do carrinho na interface
  document.getElementById("total-carrinho").textContent = "Total: R$ 0,00";
}

function imprimirComprovante() {
  if (!dadosCompra) {
    alert("Nenhum dado dispon√≠vel para gerar o comprovante. Finalize a compra primeiro.");
    return;
  }

  const { nome, email, servicos, total } = dadosCompra;

  const comprovante = `
    *** Comprovante de Compra ***
    
    Cliente: ${nome}
    E-mail: ${email}
    Servi√ßos Contratados:
    ${servicos.join("\n")}

    Total: R$ ${total}

    Pagamento via PIX
    Chave PIX: 86994200398

    Obrigado por comprar na SamShop!
  `;

  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF();
  pdf.setFont("Helvetica", "normal");
  pdf.setFontSize(12);
  pdf.text(comprovante, 10, 10);
  pdf.save("comprovante.pdf");
}



    // Fun√ß√£o para copiar a chave PIX
    function copyPixKey() {
      const pixKey = document.getElementById("pix-key").innerText;
      navigator.clipboard.writeText(pixKey).then(() => {
        alert("Chave PIX copiada para a √°rea de transfer√™ncia!");
      }).catch(err => {
        console.error("Erro ao copiar a chave PIX: ", err);
      });
    }

    // Fecha o modal
    function fecharModal() {
      const modal = document.getElementById("modal-pagamento");
      modal.style.display = "none";
    }

    // Fun√ß√£o para filtrar os servi√ßos na barra de pesquisa
    function filtrarServicos() {
      const barraPesquisa = document.getElementById("barra-pesquisa").value.toLowerCase();
      const servicos = document.querySelectorAll(".produto-card");

      servicos.forEach((servico) => {
        const nomeServico = servico.querySelector("h3").textContent.toLowerCase();
        if (nomeServico.includes(barraPesquisa)) {
          servico.style.display = "block"; // Exibe o servi√ßo que corresponde √† pesquisa
        } else {
          servico.style.display = "none"; // Oculta os servi√ßos que n√£o correspondem
        }
      });
    }

//script referente ao formul√°rio de contato
document.getElementById("form-contato").addEventListener("submit", function(event) {
        event.preventDefault();

        var nome = document.getElementById("nome").value;
        var email = document.getElementById("email").value;
        var mensa = document.getElementById("mensagem").value;

        if (nome && email && mensa) {
            var submitButton = document.getElementById("enviar");
            var mensagemStatus = document.getElementById("mensagem-status");

            submitButton.disabled = true;
            submitButton.textContent = "Enviando...";
            mensagemStatus.textContent = "";

            var formData = new FormData(this);

            fetch("https://formsubmit.co/samuel.araujonascimento.98@gmail.com", {
                method: "POST",
                body: formData
            })
            .then(response => {
                submitButton.disabled = false;
                submitButton.textContent = "Enviar";
                mensagemStatus.textContent = "Mensagem enviada com sucesso!";
                this.reset();
            })
            .catch(error => {
                submitButton.disabled = false;
                submitButton.textContent = "Enviar";
                mensagemStatus.textContent = "Mensagem enviada com sucesso!";
                this.reset();
            });
        }
    });
    
  </script>
  <div id="toast" class="toast hidden"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
</body>
</html>
